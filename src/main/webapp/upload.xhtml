<ui:composition xmlns="http://www.w3.org/1999/xhtml" template="#{deviceResourceHandler.resolveTemplate()}"
	xmlns:ui="http://java.sun.com/jsf/facelets" 
	xmlns:h="http://java.sun.com/jsf/html" 
	xmlns:f="http://java.sun.com/jsf/core" 
	xmlns:t="http://myfaces.apache.org/tomahawk" 
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions"
	xmlns:o="http://omnifaces.org/ui"
	xmlns:cegedim="http://java.sun.com/jsf/composite/components">
	<ui:define name="content">
		<style>
			.patientAddress-component-panel {
				height: 145px;
			}
			
			.avatar-size {
				max-width: 188px;
				max-height: 223px;
			}
			
			.ui-fileupload-filename {
				display: inline-block;
				width: 180px;
				white-space: nowrap;
				overflow: hidden !important;
				text-overflow: ellipsis;
			}
		</style>
	
		<div class="card card-w-title" style="max-width: 1000px;margin: 0 auto;">
			<h1>#{bundle['patient.card']}</h1>
			<h:form id="patientForm" enctype="multipart/form-data">
				<p:panel id="patientImage" header="#{bundle['patient.form.panel.photo']}" styleClass="ui-shadow-content">
					<p:graphicImage value="#{resourcesOnDiskHandler.image}" rendered="#{not empty entity.url1}" 
						styleClass="avatar-size" alt="avatar_photo">
						<f:param name="filename" value="#{entity.url1}" />
					</p:graphicImage>
					<h:graphicImage library="custom" name="#{avatarType}" rendered="#{empty entity.url1}" 
						styleClass="avatar-size" alt="avatar_photo">
					</h:graphicImage>
					<p:fileUpload fileUploadListener="#{uploadHandler.handleFileUpload}" sizeLimit="30720000"  
                                  allowTypes="/(\.|\/)(gif|jpe?g|png|doc|txt|pdf|html)$/" mode="advanced"
                                  auto="true" />
				</p:panel>
			</h:form>
		</div>
	</ui:define>
</ui:composition>